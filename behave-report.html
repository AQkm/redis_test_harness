<!DOCTYPE HTML><html><head><title>Behave Test Report</title><meta content="text/html;charset=utf-8" http-equiv="content-type" /><style type="text/css"><!--
@charset "utf-8"; .passed{}.failed{}.error{}.skipped{}.undefined{}.summary{}.failed_scenarios{}.footer{}body{font-size:0;color:white;margin:0;padding:0}.behave,td,th{font:normal 11px "Lucida Grande",Helvetica,sans-serif;background:white;color:black}.behave #behave-header,td #behave-header,th #behave-header{background:#65c400;color:white;height:8em}.behave #behave-header #expand-collapse p,td #behave-header #expand-collapse p,th #behave-header #expand-collapse p{float:right;margin:0 0 0 10px}.behave .scenario h3,td .scenario h3,th .scenario h3,.background h3{font-size:11px;padding:3px;margin:0;background:#65c400;color:white;font-weight:bold}.background h3{font-size:1.2em;background:#666}.behave h1,td h1,th h1{margin:0 10px 0 10px;padding:10px;font-family:"Lucida Grande",Helvetica,sans-serif;font-size:2em;position:absolute}.behave h4,td h4,th h4{margin-bottom:2px}.behave div.feature,td div.feature,th div.feature{padding:2px;margin:0 10px 5px 10px}.behave div.examples,td div.examples,th div.examples{padding:0 0 0 1em}.behave .stats,td .stats,th .stats{margin:2em}.behave .summary ul.features li,td .summary ul.features li,th .summary ul.features li{display:inline}.behave .step_name,td .step_name,th .step_name{float:left}.behave .step_file,td .step_file,th .step_file{text-align:right;color:#999}.behave .step_file a,td .step_file a,th .step_file a{color:#999}.behave .scenario_file,td .scenario_file,th .scenario_file{float:right;color:#999}.behave .step_duration{padding-left:1em}.behave .tag,td .tag,th .tag{font-weight:bold;color:#246ac1}.behave .backtrace,td .backtrace,th .backtrace{margin-top:0;margin-bottom:0;margin-left:1em;color:black}.behave a,td a,th a{color:#be5c00;margin-right:.5em}.behave a:hover,td a:hover,th a:hover{text-decoration:none}.behave a:visited,td a:visited,th a:visited{font-weight:normal}.behave a div.examples,td a div.examples,th a div.examples{margin:5px 0 5px 15px;color:black}.behave .outline table,td .outline table,th .outline table{margin:0 0 5px 10px}.behave table,td table,th table{border-collapse:collapse}.behave table td,td table td,th table td{padding:3px 3px 3px 5px}.behave table td.failed,.behave table td.passed,.behave table td.skipped,.behave table td.pending,.behave table td.undefined,td table td.failed,td table td.passed,td table td.skipped,td table td.pending{padding-left:18px;padding-right:10px}.behave table td.failed,td table td.failed,th table td.failed{border-left:5px solid #c20000;border-bottom:1px solid #c20000;background:#fffbd3;color:#c20000}.behave table td.passed,td table td.passed,th table td.passed{border-left:5px solid #65c400;border-bottom:1px solid #65c400;background:#dbffb4;color:#3d7700}.behave table td.skipped,td table td.skipped,th table td.skipped{border-left:5px solid aqua;border-bottom:1px solid aqua;background:#e0ffff;color:#011}.behave table td.pending,td table td.pending,th table td.pending{border-left:5px solid #faf834;border-bottom:1px solid #faf834;background:#fcfb98;color:#131313}.behave table td.undefined,td table td.undefined,th table td.undefined{border-left:5px solid #faf834;border-bottom:1px solid #faf834;background:#fcfb98;color:#131313}.behave table td.message,td table td.message,th table td.message{border-left:5px solid aqua;border-bottom:1px solid aqua;background:#e0ffff;color:#011}.behave ol,td ol,th ol{list-style:none;margin:0;padding:0}.behave ol li.step,td ol li.step,th ol li.step{padding:3px 3px 3px 18px;margin:5px 0 5px 5px}.behave ol li,td ol li,th ol li{margin:0 0 0 1em;padding:0 0 0 .2em}.behave ol li span.param,td ol li span.param,th ol li span.param{font-weight:bold}.behave ol li.failed,td ol li.failed,th ol li.failed{border-left:5px solid #c20000;border-bottom:1px solid #c20000;background:#fffbd3;color:#c20000}.behave ol li.passed,td ol li.passed,th ol li.passed{border-left:5px solid #65c400;border-bottom:1px solid #65c400;background:#dbffb4;color:#3d7700}.behave ol li.skipped,td ol li.skipped,th ol li.skipped{border-left:5px solid aqua;border-bottom:1px solid aqua;background:#e0ffff;color:#011}.behave ol li.pending,td ol li.pending,th ol li.pending{border-left:5px solid #faf834;border-bottom:1px solid #faf834;background:#fcfb98;color:#131313}.behave ol li.undefined,td ol li.undefined,th ol li.undefined{border-left:5px solid #faf834;border-bottom:1px solid #faf834;background:#fcfb98;color:#131313}.behave ol li.message,td ol li.message,th ol li.message{border-left:5px solid aqua;border-bottom:1px solid aqua;background:#e0ffff;color:#011;margin-left:10px}.behave #summary,td #summary,th #summary{margin:0;padding:5px 10px;text-align:right;top:0;right:0;float:right}.behave #summary p,td #summary p,th #summary p{margin:0 0 0 2px}.behave #summary #totals,td #summary #totals,th #summary #totals{font-size:1.2em}.behave .scenario h3.failed,td .scenario h3.failed,th .scenario h3.failed,.background h3.failed{background:#c20000}.behave #behave-header.failed,td #behave-header.failed,th #behave-header.failed{background:#c20000}.behave .scenario h3.undefined,td .scenario h3.undefined,th .scenario h3.undefined,.background h3.undefined{background:#faf834;color:black}.behave #behave-header.undefined,td #behave-header.undefined,th #behave-header.undefined{background:#faf834;color:black}#behave-header.failed a{color:white}pre{white-space:pre-wrap}
--></style><script type="text/javascript"><!--
function Collapsible_toggle(id){var elem=document.getElementById(id);elem.style.display=(elem.style.display=='none'?'block':'none');return false;};function Collapsible_expandAll(className){var elems=document.getElementsByClassName(className);for(var i=0;i<elems.length;i++){elems[i].style.display='block';}};function Collapsible_collapseAll(className){var elems=document.getElementsByClassName(className);for(var i=0;i<elems.length;i++){elems[i].style.display='none';}};function Collapsible_expandAllFailed(){var elems=document.getElementsByClassName('failed');for(var i=0;i<elems.length;i++){var elem=elems[i];if(elem.nodeName=='H3'){elem.parentElement.getElementsByTagName('ol')[0].style.display='block';}}}
--></script></head><body><div class="behave"><div id="behave-header" class="failed"><div id="label"><h1>Behave Test Report</h1></div><div id="summary"><p id="totals"><p id="feature_totals">Features: failed: 3, passed: 1</p><p id="scenario_totals">Scenarios: failed: 4, passed: 3</p><p id="step_totals">Steps: passed: 20, failed: 4, skipped: 5</p></p><p id="duration">Finished in 31.3 seconds</p><div id="expand-collapse"><a id="expander" href="#" onclick="Collapsible_expandAll('scenario_steps')">Expand All</a><span> | </span><a id="collapser" href="#" onclick="Collapsible_collapseAll('scenario_steps')">Collapse All</a><span> | </span><a id="failed_expander" href="#" onclick="Collapsible_expandAllFailed()">Expand All Failed</a></div></div></div><div class="feature"><h2><span class="val">Feature: Cache behavior</span></h2><pre class="message">Validates that Redis cache behaves as expected, including key expiration and retrieval.</pre><span /></div><div class="scenario"><span class="scenario_file">features/cache_behaviour.feature:4</span><h3 onclick="Collapsible_toggle('scenario_0')" class="failed"><span class="val">Scenario: Key is stored and retrieved correctly</span></h3><ol class="scenario_steps" id="scenario_0"><li class="step passed"><div class="step_name"><span class="keyword">Given </span><span class="step val">the Redis container is running</span><small class="step_duration">(5.480s)</small></div><div class="step_file"><span>features/steps/preconditions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">When </span><span class="step val"><span>a key "</span><b>key_to_retrieve</b><span>" is set with value "</span><b>value_to_retrieved</b><span>" in Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val"><span>a key "</span><b>key_to_retrieve</b><span>" is retrieved from Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:12</span></div><span class="embed" /></li><li class="step failed"><div class="step_name"><span class="keyword">Then </span><span class="step val"><span>the value of the key should be "</span><b>value_to_retrieved</b><span>"</span></span><small class="step_duration">(0.000s)</small></div><div class="step_file"><span>features/steps/assertions.py:3</span></div><span class="embed"><a onclick="Collapsible_toggle('embed_1')">Error Message</a><pre id="embed_1" style="display: none">Assertion Failed: Expected 'value_to_retrieved', but got 'None'
Captured stdout:
Starting redisToTest container...
Waiting for redisToTest container to start...
redisToTest container is running.
Error setting key in Redis: Error while reading from localhost:6379 : (104, 'Connection reset by peer')
Error getting key from Redis: Error while reading from localhost:6379 : (104, 'Connection reset by peer')</pre>    </span></li></ol><span /></div><div class="scenario"><span class="scenario_file">features/cache_behaviour.feature:10</span><h3 onclick="Collapsible_toggle('scenario_1')"><span class="val">Scenario: Key expires after the specified time</span></h3><ol class="scenario_steps" id="scenario_1"><li class="step passed"><div class="step_name"><span class="keyword">Given </span><span class="step val">the Redis container is running</span><small class="step_duration">(0.238s)</small></div><div class="step_file"><span>features/steps/preconditions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">When </span><span class="step val"><span>a key "</span><b>key_to_expire</b><span>" is set with value "</span><b>value_to_expire</b><span>" with expiration of </span><b>2</b><span> seconds</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:8</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val"><span>a wait of </span><b>3</b><span> seconds is performed</span></span><small class="step_duration">(3.000s)</small></div><div class="step_file"><span>features/steps/actions.py:28</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val"><span>a key "</span><b>key_to_expire</b><span>" is retrieved from Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:12</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">Then </span><span class="step val">the value of the key should not exist</span><small class="step_duration">(0.000s)</small></div><div class="step_file"><span>features/steps/assertions.py:7</span></div><span class="embed" /></li></ol><span /></div><div class="feature"><h2><span class="val">Feature: Data persistence</span></h2><pre class="message">Verifies that data is persisted correctly in Redis after container restarts.</pre><span /></div><div class="scenario"><span class="scenario_file">features/data_persistence.feature:4</span><h3 onclick="Collapsible_toggle('scenario_2')" class="failed"><span class="val">Scenario: Data persists after Redis container restart</span></h3><ol class="scenario_steps" id="scenario_2"><li class="step passed"><div class="step_name"><span class="keyword">Given </span><span class="step val">the Redis container is running</span><small class="step_duration">(0.233s)</small></div><div class="step_file"><span>features/steps/preconditions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">When </span><span class="step val"><span>a key "</span><b>key_persistent</b><span>" is set with value "</span><b>value_persistent</b><span>" in Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val">the Redis container is restarted</span><small class="step_duration">(0.481s)</small></div><div class="step_file"><span>features/steps/actions.py:16</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val"><span>a key "</span><b>key_persistent</b><span>" is retrieved from Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:12</span></div><span class="embed" /></li><li class="step failed"><div class="step_name"><span class="keyword">Then </span><span class="step val"><span>the value of the key should be "</span><b>value_persistent</b><span>"</span></span><small class="step_duration">(0.000s)</small></div><div class="step_file"><span>features/steps/assertions.py:3</span></div><span class="embed"><a onclick="Collapsible_toggle('embed_2')">Error Message</a><pre id="embed_2" style="display: none">Assertion Failed: Expected 'value_persistent', but got 'None'
Captured stdout:
Starting redisToTest container...
Waiting for redisToTest container to start...
redisToTest container is running.
Error setting key in Redis: Error while reading from localhost:6379 : (104, 'Connection reset by peer')
Error getting key from Redis: Error while reading from localhost:6379 : (104, 'Connection reset by peer')</pre>    </span></li></ol><span /></div><div class="scenario"><span class="scenario_file">features/data_persistence.feature:11</span><h3 onclick="Collapsible_toggle('scenario_3')"><span class="val">Scenario: Data does not persist when Redis container is not configured for persistence</span></h3><ol class="scenario_steps" id="scenario_3"><li class="step passed"><div class="step_name"><span class="keyword">Given </span><span class="step val">the Redis container is running with persistence off</span><small class="step_duration">(0.227s)</small></div><div class="step_file"><span>features/steps/preconditions.py:19</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">When </span><span class="step val"><span>a key "</span><b>key_ephemeral</b><span>" is set with value "</span><b>value_ephemeral</b><span>" in Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val">the Redis container is restarted</span><small class="step_duration">(0.456s)</small></div><div class="step_file"><span>features/steps/actions.py:16</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">And </span><span class="step val"><span>a key "</span><b>key_ephemeral</b><span>" is retrieved from Redis</span></span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/actions.py:12</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">Then </span><span class="step val">the value of the key should not exist</span><small class="step_duration">(0.000s)</small></div><div class="step_file"><span>features/steps/assertions.py:7</span></div><span class="embed" /></li></ol><span /></div><div class="feature"><h2><span class="val">Feature: Failover scenarios</span></h2><pre class="message">Validates Redis behavior under failover conditions in a clustered setup.</pre><span /></div><div class="scenario"><span class="scenario_file">features/failover.feature:4</span><h3 onclick="Collapsible_toggle('scenario_4')" class="failed"><span class="val">Scenario: Replica is promoted to primary when primary fails</span></h3><ol class="scenario_steps" id="scenario_4"><li class="step failed"><div class="step_name"><span class="keyword">Given </span><span class="step val">a Redis cluster with one primary and one replica</span><small class="step_duration">(10.452s)</small></div><div class="step_file"><span>features/steps/preconditions.py:14</span></div><span class="embed"><a onclick="Collapsible_toggle('embed_3')">Error Message</a><pre id="embed_3" style="display: none">Assertion Failed: Redis cluster is not healthy
Captured stdout:
Setting up Redis cluster...
Starting Redis node on port 6380...
Starting Redis node on port 6381...
Connecting Redis nodes into the cluster...
Connecting 6380 to 6381
Error setting up Redis cluster: Error while reading from localhost:6380 : (104, 'Connection reset by peer')
Unable to connect to Redis instance to check cluster health.</pre>    </span></li></ol><span /></div><div class="scenario"><span class="scenario_file">features/failover.feature:9</span><h3 onclick="Collapsible_toggle('scenario_5')" class="failed"><span class="val">Scenario: Failed node rejoins as a replica after recovery</span></h3><ol class="scenario_steps" id="scenario_5"><li class="step failed"><div class="step_name"><span class="keyword">Given </span><span class="step val">a Redis cluster with one primary and one replica</span><small class="step_duration">(10.451s)</small></div><div class="step_file"><span>features/steps/preconditions.py:14</span></div><span class="embed"><a onclick="Collapsible_toggle('embed_4')">Error Message</a><pre id="embed_4" style="display: none">Assertion Failed: Redis cluster is not healthy
Captured stdout:
Setting up Redis cluster...
Starting Redis node on port 6380...
Starting Redis node on port 6381...
Connecting Redis nodes into the cluster...
Connecting 6380 to 6381
Error setting up Redis cluster: Error while reading from localhost:6380 : (104, 'Connection reset by peer')
Unable to connect to Redis instance to check cluster health.</pre>    </span></li></ol><span /></div><div class="feature"><h2><span class="val">Feature: Mange Redis service</span></h2><pre class="message">Validates if Redis service can be run</pre><span /></div><div class="scenario"><span class="scenario_file">features/manage_redis_service.feature:4</span><h3 onclick="Collapsible_toggle('scenario_6')"><span class="val">Scenario: Run Redis service</span></h3><ol class="scenario_steps" id="scenario_6"><li class="step passed"><div class="step_name"><span class="keyword">Given </span><span class="step val">a Redis service is not running</span><small class="step_duration">(0.007s)</small></div><div class="step_file"><span>features/steps/redis_service_steps.py:4</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">When </span><span class="step val">start a Redis service</span><small class="step_duration">(0.221s)</small></div><div class="step_file"><span>features/steps/redis_service_steps.py:9</span></div><span class="embed" /></li><li class="step passed"><div class="step_name"><span class="keyword">Then </span><span class="step val">the Redis should be running</span><small class="step_duration">(0.001s)</small></div><div class="step_file"><span>features/steps/redis_service_steps.py:13</span></div><span class="embed" /></li></ol><span /></div></div></body></html>